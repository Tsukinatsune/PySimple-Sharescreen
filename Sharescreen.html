<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sharescreen</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            overflow: hidden;
            background: #f0f0f0;
        }
        #mainIframe {
            width: 100vw;
            height: 100vh;
            border: none;
            display: block;
        }
        #controller {
            position: fixed;
            bottom: 70px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 20px;
            border-radius: 15px;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            max-height: 70vh;
            overflow-y: auto;
            transition: transform 0.3s ease, opacity 0.3s ease;
            max-width: 300px;
        }
        #controller.hidden {
            transform: translateY(20px);
            opacity: 0;
            pointer-events: none;
        }
        #controller input {
            margin: 8px 0;
            padding: 10px;
            width: 100%;
            box-sizing: border-box;
            border-radius: 10px;
            border: 1px solid #ddd;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        #controller input:focus {
            border-color: #ff69b4;
            outline: none;
        }
        #controller button {
            margin: 8px 0;
            padding: 10px;
            width: 100%;
            box-sizing: border-box;
            border-radius: 50px;
            border: none;
            background: #ff69b4;
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        #controller button:hover:not(.disabled) {
            background: #ff4f99;
        }
        #controller button.disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        #controller label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #555;
        }
        #toggleController {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 1001;
        }
        #toggleController button {
            background: #ff69b4;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        #toggleController button:hover {
            transform: scale(1.1);
        }
        #toggleController.hidden {
            transform: translateY(20px);
            opacity: 0;
            pointer-events: none;
        }
        #urlList {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
            padding: 10px;
            background: #f8f8f8;
            border-radius: 10px;
        }
        .url-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            background: #fff;
            margin-bottom: 8px;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            font-size: 13px;
        }
        .url-item span {
            flex-grow: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-right: 10px;
        }
        .url-item button {
            background: #ff69b4;
            padding: 10px;
            width: 100px;
            font-size: 14px;
            border-radius: 50px;
        }
        .url-item button:hover:not(.disabled) {
            background: #ff4f99;
        }
        .custom-dropdown {
            position: relative;
            margin: 8px 0;
            width: 100%;
        }
        .selected-option {
            padding: 10px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 14px;
            color: #333;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: border-color 0.3s ease;
        }
        .selected-option:hover, .selected-option:focus {
            border-color: #ff69b4;
        }
        .selected-option::after {
            content: '▼';
            font-size: 12px;
            color: #555;
        }
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1002;
            margin-top: 5px;
            overflow: hidden;
        }
        .dropdown-option {
            padding: 10px;
            font-size: 14px;
            color: #333;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .dropdown-option:hover {
            background: #ff69b4;
            color: white;
        }
    </style>
</head>
<body>
    <iframe id="mainIframe" src="https://example.com"></iframe>
    <div id="toggleController">
        <button id="menuToggleButton" onclick="toggleController()">☰</button>
        <button id="hideAllButton" onclick="toggleCompletelyHidden()">✕</button>
    </div>
    <div id="controller" style="display: none;">
        <label for="urlInput">Enter URL:</label>
        <input type="text" id="urlInput" placeholder="https://example.com">
        <button onclick="loadSpecificURL()">Load URL</button>
        <button onclick="addURL()">Add URL to Random List</button>
        <label>Random URLs:</label>
        <div class="custom-dropdown" id="randomToggle">
            <div class="selected-option" onclick="toggleDropdown()">Off</div>
            <div class="dropdown-menu" style="display: none;">
                <div class="dropdown-option" data-value="on">On</div>
                <div class="dropdown-option" data-value="off">Off</div>
            </div>
        </div>
        <label for="loopTime">Loop Time (seconds):</label>
        <input type="number" id="loopTime" value="30" min="5">
        <button id="randomLoopButton" onclick="startRandomLoop()">Start Random Loop</button>
        <div id="urlList"></div>
    </div>

    <script>
        const iframe = document.getElementById('mainIframe');
        const urlInput = document.getElementById('urlInput');
        const loopTimeInput = document.getElementById('loopTime');
        const controller = document.getElementById('controller');
        const toggleControllerDiv = document.getElementById('toggleController');
        const randomLoopButton = document.getElementById('randomLoopButton');
        const urlList = document.getElementById('urlList');
        const randomToggle = document.getElementById('randomToggle');
        const selectedOption = randomToggle.querySelector('.selected-option');
        const dropdownMenu = randomToggle.querySelector('.dropdown-menu');
        let randomInterval = null;
        let isCompletelyHidden = false;
        let randomURLs = [
            'https://example.com',
            'https://wikipedia.org',
            'https://nasa.gov',
            'https://github.com',
            'https://news.ycombinator.com'
        ];

        // Toggle dropdown visibility
        function toggleDropdown() {
            dropdownMenu.style.display = dropdownMenu.style.display === 'none' ? 'block' : 'none';
        }

        // Handle option selection
        function selectOption(value) {
            selectedOption.textContent = value.charAt(0).toUpperCase() + value.slice(1);
            randomToggle.dataset.value = value;
            dropdownMenu.style.display = 'none';
            toggleRandom();
        }

        // Add event listeners to dropdown options
        dropdownMenu.querySelectorAll('.dropdown-option').forEach(option => {
            option.addEventListener('click', () => {
                selectOption(option.dataset.value);
            });
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (event) => {
            if (!randomToggle.contains(event.target)) {
                dropdownMenu.style.display = 'none';
            }
        });

        // Toggle controller visibility
        function toggleController() {
            if (!isCompletelyHidden) {
                controller.style.display = controller.style.display === 'none' ? 'block' : 'none';
            }
        }

        // Toggle completely hidden mode
        function toggleCompletelyHidden() {
            isCompletelyHidden = !isCompletelyHidden;
            controller.style.display = isCompletelyHidden ? 'none' : 'block';
            toggleControllerDiv.classList.toggle('hidden', isCompletelyHidden);
            controller.classList.toggle('hidden', isCompletelyHidden);
        }

        // Load specific URL
        function loadSpecificURL() {
            const url = urlInput.value.trim();
            if (url && url.startsWith('http')) {
                iframe.src = url;
                stopRandomLoop();
                selectOption('off');
                randomLoopButton.classList.remove('disabled');
            } else {
                alert('Please enter a valid URL starting with http or https');
            }
        }

        // Add URL to random list
        function addURL() {
            const url = urlInput.value.trim();
            if (url && url.startsWith('http')) {
                if (!randomURLs.includes(url)) {
                    randomURLs.push(url);
                    updateURLList();
                    urlInput.value = '';
                } else {
                    alert('This URL is already in the list');
                }
            } else {
                alert('Please enter a valid URL starting with http or https');
            }
        }

        // Update displayed URL list
        function updateURLList() {
            urlList.innerHTML = '';
            randomURLs.forEach((url, index) => {
                const urlItem = document.createElement('div');
                urlItem.className = 'url-item';
                urlItem.innerHTML = `
                    <span>${url}</span>
                    <button onclick="removeURL(${index})">Remove</button>
                `;
                urlList.appendChild(urlItem);
            });
        }

        // Remove URL from list
        function removeURL(index) {
            randomURLs.splice(index, 1);
            updateURLList();
            if (randomURLs.length === 0) {
                stopRandomLoop();
                selectOption('off');
                randomLoopButton.classList.remove('disabled');
            }
        }

        // Toggle random URL mode
        function toggleRandom() {
            if (randomToggle.dataset.value === 'off') {
                stopRandomLoop();
                randomLoopButton.classList.remove('disabled');
            }
        }

        // Start random URL loop
        function startRandomLoop() {
            stopRandomLoop();
            if (randomToggle.dataset.value === 'on' && randomURLs.length > 0) {
                const loopTime = parseInt(loopTimeInput.value) * 1000;
                if (loopTime < 5000) {
                    alert('Loop time must be at least 5 seconds');
                    return;
                }
                loadRandomURL();
                randomInterval = setInterval(loadRandomURL, loopTime);
                randomLoopButton.classList.add('disabled');
            } else if (randomURLs.length === 0) {
                alert('Please add at least one URL to the random list');
                selectOption('off');
            }
        }

        // Load a random URL
        function loadRandomURL() {
            const randomIndex = Math.floor(Math.random() * randomURLs.length);
            iframe.src = randomURLs[randomIndex];
        }

        // Stop random URL loop
        function stopRandomLoop() {
            if (randomInterval) {
                clearInterval(randomInterval);
                randomInterval = null;
                randomLoopButton.classList.remove('disabled');
            }
        }

        // Request fullscreen
        function goFullscreen() {
            if (iframe.requestFullscreen) {
                iframe.requestFullscreen();
            } else if (iframe.webkitRequestFullscreen) {
                iframe.webkitRequestFullscreen();
            } else if (iframe.msRequestFullscreen) {
                iframe.msRequestFullscreen();
            }
        }

        // Keyboard shortcut for hiding/showing controller (H key)
        document.addEventListener('keydown', (event) => {
            if (event.key.toLowerCase() === 'h') {
                toggleCompletelyHidden();
            }
        });

        // Auto-load fullscreen and update URL list on page load
        window.onload = () => {
            goFullscreen();
            updateURLList();
            randomToggle.dataset.value = 'off'; // Initialize dropdown value
        };
    </script>
</body>
</html>